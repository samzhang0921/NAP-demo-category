<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name=viewport content="width=device-width, initial-scale=1">
    
    <title>test</title>
   <script
			  src="https://code.jquery.com/jquery-3.1.0.min.js"
			  integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="
			  crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>


<div class="products">
    <script id="products-tabmplate" type="text/x-handlebars-remplate">
       
        <div class="products-header">
                <h4>WHAT'S NEW ({{total}} ITEMS)</h4>
            </div>
        <div class="products-top">
            <div class="outfit">
                <button>Outfit View</button>
            </div>
            <div class="sort-by">
                <form action="/test/zhproducts" method="get" id="rpoducts-list-filter">
                    <select name="sortOrder" id="">
                        <option value="SortBy">Sort By</option>
                        <option value="price-asc">Price Low to High</option>
                        <option value="price-desc">Price High to Low</option>
                    </select>   
                </form>
            </div>
            <div class="filter">
                FILTER<span></span>
            </div>
        </div>
      <div class="subNav">
            <h4>DESIGNER</h4>
            <a class="clear_filter" href="/test/zhproducts">Clear</a>
            <div class="scroll-pane">
               
            </div>
      </div>
       <ul >
        {{#each products}}
        <li>
            <div class="product-image">
                <a data-position="1" title="" src="">
                <img src="{{image.outfit}}" height="270" width="180" />
                </a>
                </div>
                <div class="description">
                <a title="{{name}}" href="http://127.0.0.1:8080/test/zhproducts/{{id}}">
                <span class="designer">{{brand_name}}</span>
                </a>
                <br>
                {{name}}
                <br>
                <span class="price "> {{price}} </span>
                <br class="clearboth">
            </div>
        </li>
        {{/each}}    
        </ul>
</script>
</div>
<script>
    var products = {
            init: function(config){
                this.url = "http://127.0.0.1:8080/test/zhproducts?"+config.query;
                this.template = config.template;
                this.container = config.container;
                this.getdata();
                },
            attachTamplate: function(){
                var template = Handlebars.compile(this.template);
                this.container.append(template (this.products_list));
                
                },
            getdata: function(){
                var self = this;
                $.getJSON(this.url, function(products){
                    
                   self.products_list = products;
//                    console.log(self.products_list);
                    
                    self.attachTamplate();
                 });
                },
        
        };
    products.init({
        template: $('#products-tabmplate').html(),
        container: $("div.products"),
        query :"",
    });
    

</script>
</body>
</html>